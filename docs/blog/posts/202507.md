---
date: 2025-07-18
categories:
  - Code
---
# Edge插件，快速清除已经被删除的文件条目
(Delete the Items deleted in Edge download list)

<!-- more -->
## 装载插件
- 在 _Edge_ 浏览器中访问 _edge://extensions/_，跳转到拓展插件管理页面。

- 在 _Edge_ 页面左侧，打开 _开发人员模式_， 然后点击右侧 _加载解压缩的拓展_ 按钮，定位到此插件文件夹。

## 插件使用
- 点击插件，进入操作页面。

- 点击 _扫描记录_。如有已被删除文件的下载条目，其会显示到插件下方的列表当中。

- 点击 _清理无效项_， 其会删除所有的上述条目。

## 业务逻辑实现

核心代码：
``` cpp

    const downloads = await chrome.downloads.search({ 
      state: 'complete' 
    });

    async function checkFileExists(download) {
    if (!download.filename) return false;
        console.info(download.filename + " Exist? { " + download.exists + " }")
        return download.exists;
    }
 ```

 通过上述代码即可获取edge的内核chrome中，其download字段中的所有下载item。其api可以在[chrome开发文档](https://developer.chrome.com/docs/extensions/reference/api/downloads?hl=zh-cn)中找到。

 然后通过

 ``` cpp
    chrome.downloads.erase({ id });
 ```

 即可删除其保留在下载栏目中的条目。**注意不要调用错API**，否则会变成删除其文件，而不是edge下的ui。